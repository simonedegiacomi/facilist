<div class="notebook-sheet always-large always-tall list">

    <div class="notebook-sheet-header">
        <h5>{{ list.name }}</h5>

        <div class="update-message">
            <div class="is-saving" *ngIf="isSaving">
                Sto salvando ...
            </div>
            <div class="last-update" *ngIf="lastUpdate">
                {{ lastUpdate | date }}
            </div>
        </div>

        <div class="notebook-sheet-buttons">
            <button *ngIf="userCanEditCollaborations" type="button" class="share-icon" data-dismiss="modal"
                    aria-label="Impostazioni di condivisione"
                    (click)="openShareSettings.emit()"></button>

            <button *ngIf="userCanEditInfo" type="button" class="settings-icon" data-dismiss="modal" aria-label="Impostazioni"
                    (click)="openSettings.emit()"></button>

            <button type="button" class="close-icon" data-dismiss="modal" aria-label="Chiudi"
                    (click)="back.emit()"></button>
        </div>
    </div>

    <user-list-search [list]="list" (addProduct)="onAddProduct($event)"
                      (createProduct)="onCreateProduct($event)"></user-list-search>

    <div class="notebook-sheet-content container-fluid">
        <user-shopping-list-product *ngFor="let product of list.products" [product]="product"></user-shopping-list-product>
    </div>
</div>

<app-new-user-product *ngIf="list" [customProductName]="customProductName" [shoppingList]="list"></app-new-user-product>

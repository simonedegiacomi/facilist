<div class="notifications-box" [class.box-open]="open">
    <div class="notifications-box-content-container">
        <div class="notifications-box-content">

            <!-- Alert -->
            <div class="alert alert-primary" role="alert" *ngIf="!hasSubscribed">
                <a (click)="onSubscribeToPushNotifications()">Abilita le notifiche su questo dispositivo</a>
            </div>

            <!-- Notifications list -->
            <ul>
                <li class="row notification" *ngFor="let notification of notifications"  [routerLink]="notification.url"
                    [class.unread]="isUnreadOrJustRead(notification)">
                    <span class="col-9">{{ notification.message }}</span>

                    <div class="col-3">
                        <img class="icon normal-icon" [src]="notification.icon | image">
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <button class="notifications-icon" [class.unread-notifications]="unreadNotificationsCount > 0"
            aria-label="Notifiche" (click)="onToggleNotificationBox()">
        <span class="unread-notification-count" *ngIf="unreadNotificationsCount > 0">
            {{ unreadNotificationsCount }}
        </span>
    </button>
</div>
<div class="notifications-backdrop" [class.active]="open" (click)="onToggleNotificationBox()"></div>

<div class="notebook-sheet always-large always-tall lists-list">
    <div class="notebook-sheet-header">
        <h5>Le mie liste della spesa</h5>
    </div>

    <div class="notebook-sheet-content">

        <div class="alert alert-primary" *ngIf="!isNearYouEnabled">
            <a (click)="enableNearYouService()" *ngIf="!askingNearYouPermission">Attiva la geolocalizzazione</a>
            <span *ngIf="askingNearYouPermission">Attivazione in corso ...</span>
        </div>

        <ul class="lists-list">

            <li *ngFor="let list of lists" class="row">
                <div class="col-4 col-sm-2">
                    <a [routerLink]="['/user', 'shoppingLists', list.id]">
                        <img [src]="list.icon | image" class="icon">
                    </a>
                </div>

                <div class="col-8 col-sm-6">
                    <a [routerLink]="['/user', 'shoppingLists', list.id]">
                        <h3>{{ list.name }}</h3>
                        <p class="description">{{ list.description }}</p>
                    </a>
                </div>


                <div class="col-12 col-sm-4 counter-and-share-flag">
                    <div>
                        <img src="assets/img/ic_ham.svg" class="counter-icon">
                        <span class="list-counter">{{ list.boughtItemsCount }} / {{ list.itemsCount }}</span>

                        <img src="assets/img/{{ list.shared ? 'ic_list_shared' : 'ic_list_not_shared' }}.svg"
                             class="share-flag">
                    </div>
                </div>
            </li>
            <li>
                <div class="col-4 col-sm-2">
                    <!-- Hacky space -->
                    <p></p>
                </div>

                <div class="col-8 col-sm-6">
                    <a data-toggle="modal" data-target="#newListModal">Crea una nuova lista...</a>
                </div>

            </li>
        </ul>
    </div>
</div>

<user-new-list></user-new-list>
